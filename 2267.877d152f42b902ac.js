"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2267],{2267:(C,p,n)=>{n.r(p),n.d(p,{ViewEventoPageModule:()=>R});var u=n(6814),f=n(95),s=n(7027),g=n(9085),v=n(5861),m=n(6676),Z=n(553),h=n(240),x=n(3796),P=n(7183),T=n(4664),y=n(9397),w=n(3763),o=n(6689),E=n(7763),U=n(2425),M=n(659),V=n(4414);function A(t,r){if(1&t&&(o.TgZ(0,"ion-card-subtitle",19),o._uU(1,"Lugar: "),o.TgZ(2,"b"),o._uU(3),o.qZA()()),2&t){const e=o.oxw(2);o.xp6(3),o.Oqu(e.evento.lugar)}}function I(t,r){1&t&&(o.TgZ(0,"ion-card-subtitle",19),o._uU(1,"Costos:"),o.qZA())}function b(t,r){if(1&t&&(o.TgZ(0,"div",6)(1,"ion-card-subtitle",19),o._uU(2),o.TgZ(3,"b"),o._uU(4),o.ALo(5,"currency"),o.qZA()()()),2&t){const e=r.$implicit;o.xp6(2),o.hij("",e.publico,": "),o.xp6(2),o.Oqu(o.lcZ(5,2,e.costo))}}function J(t,r){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,I,2,0,"ion-card-subtitle",20),o.YNc(2,b,6,4,"div",27),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",e.evento.costos.length>0),o.xp6(1),o.Q6J("ngForOf",e.evento.costos)}}function O(t,r){if(1&t){const e=o.EpF();o.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"ion-card",7)(4,"ion-card-header"),o._UZ(5,"ion-img",8),o.TgZ(6,"ion-card-title",9),o._uU(7),o.qZA()(),o.TgZ(8,"ion-card-content"),o._UZ(9,"ion-text",0)(10,"div",10),o.qZA()()()(),o.TgZ(11,"div",11)(12,"div",12)(13,"ion-card",13)(14,"ion-accordion-group",14)(15,"ion-accordion",14)(16,"ion-item",15)(17,"ion-card-title",16)(18,"b",17),o._uU(19,"Informaci\xf3n del Evento"),o.qZA()()(),o.TgZ(20,"div",18)(21,"ion-card-content")(22,"ion-card-subtitle",19),o._uU(23,"Dia del evento: "),o.TgZ(24,"b"),o._uU(25),o.qZA()(),o.TgZ(26,"ion-card-subtitle",19),o._uU(27,"Cupo "),o.TgZ(28,"b"),o._uU(29),o.qZA()(),o.YNc(30,A,4,1,"ion-card-subtitle",20),o.TgZ(31,"div",21),o._UZ(32,"app-map",22),o.qZA(),o.YNc(33,J,3,2,"div",23),o.qZA()()(),o.TgZ(34,"ion-accordion",24)(35,"ion-item",15)(36,"ion-card-title",25)(37,"b",17),o._uU(38,"Registro"),o.qZA()()(),o.TgZ(39,"div",18)(40,"evento-form",26),o.NdJ("usuarioGuardado",function(a){o.CHM(e);const c=o.oxw();return o.KtG(c.getUser(a))}),o.qZA()()()()()()()()}if(2&t){const e=o.oxw();o.xp6(5),o.Q6J("src",e.uri+e.evento.imagen),o.xp6(2),o.Oqu(e.evento.titulo),o.xp6(3),o.Q6J("innerHTML",e.evento.detalles,o.oJD),o.xp6(15),o.Oqu(e.mon(e.evento.fechaInicio)),o.xp6(4),o.Oqu(e.evento.tieneCupoMaximo?"Imitado":"Ilimitado"),o.xp6(1),o.Q6J("ngIf",e.evento.mapLat),o.xp6(2),o.Q6J("evento",e.evento)("visor",!0),o.xp6(1),o.Q6J("ngIf",!e.evento.esGratis)}}m().locale("es");const G=[{path:"",component:(()=>{var t;class r{constructor(i,a,c,l,d){this.route=i,this.genericS=a,this.modalc=c,this.toast=l,this.loading=d,this.tipoPublico=h.LU,this.tipoPublicoName=h.IV,this.uri=Z.N.image+"eventos/",this.iframe=!1}ngOnInit(){var i=this;this.route.params.subscribe(a=>{const c=a.identificador;a.iframe&&(this.iframe=!0),this.genericS.getOne("evento",c).subscribe(function(){var l=(0,v.Z)(function*(d){i.evento=d});return function(d){return l.apply(this,arguments)}}())})}mon(i){return m(i).lang("es").format("LL")+" a las "+m(i).lang("es").format("LT")}verMapa(){var i=this;return(0,v.Z)(function*(){(yield i.modalc.create({component:x.G,componentProps:{visor:!0,evento:i.evento}})).present()})()}getUser(i){var a=this;return(0,v.Z)(function*(){if(a.evento.esGratis){const c=yield a.loading.create({id:"pago",animated:!0,spinner:"dots",translucent:!0,message:"Procesando..."});yield c.present();const l={evento:a.evento.id,plataformaPago:P.R.STRIPE};0===i.tipo?l.afiliado=i.id:l.participante=i.id,a.genericS.post("boleto",l).pipe((0,T.w)(d=>a.genericS.post("boleto/confirm-free/"+d.boleto.id,{})),(0,y.b)(function(){var d=(0,v.Z)(function*(z){a.modalc.dismiss(),yield c.dismiss(),a.toast.success("Registro Guardado","Revise su correo")});return function(z){return d.apply(this,arguments)}}())).subscribe()}else(yield a.modalc.create({component:w.$,componentProps:{emision:i,evento:a.evento}})).present()})()}}return(t=r).\u0275fac=function(i){return new(i||t)(o.Y36(g.gz),o.Y36(E.M),o.Y36(s.IN),o.Y36(U._W),o.Y36(s.HT))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-view-evento"]],inputs:{evento:"evento"},decls:6,vars:2,consts:[["color","primary"],["src","../../../assets/img/logo_blanco.png",1,"my-3","ms-5",2,"width","100px"],[3,"fullscreen"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-8","d-flex","container"],[1,"container"],["mode","ios",1,"shadow","mx-auto","w-100"],[1,"w-100",2,"height","400px",3,"src"],[1,"mt-4"],[3,"innerHTML"],[1,"col-md-4","d-flex","container"],[1,"container","mt-3"],[1,"shadow","mx-auto","w-100"],["value","first"],["slot","header","color","primary"],[1,"text-white","mt-0"],[2,"font-size","20px"],["slot","content",1,"ion-padding"],[1,"my-3",2,"font-size","14px"],["class","my-3","style","font-size: 14px;",4,"ngIf"],[1,"text-center",2,"width","100%","height","200px"],["width","100px",3,"evento","visor"],[4,"ngIf"],["value","second"],[1,"text-white"],[3,"usuarioGuardado"],["class","container",4,"ngFor","ngForOf"]],template:function(i,a){1&i&&(o.TgZ(0,"ion-header")(1,"ion-toolbar",0),o._UZ(2,"ion-img",1),o.qZA()(),o.TgZ(3,"ion-content",2),o.YNc(4,O,41,9,"div",3),o._UZ(5,"app-whatsapp"),o.qZA()),2&i&&(o.xp6(3),o.Q6J("fullscreen",!0),o.xp6(1),o.Q6J("ngIf",a.evento))},dependencies:[u.sg,u.O5,s.We,s.eh,s.PM,s.FN,s.Zi,s.tO,s.Dq,s.W2,s.Gu,s.Xz,s.Ie,s.yW,s.sr,M.q,x.G,V.P,u.H9],styles:["ion-content[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}"]}),r})()}];let F=(()=>{var t;class r{}return(t=r).\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[g.Bz.forChild(G),g.Bz]}),r})();var N=n(7208),Y=n(4309),L=n(5438),Q=n(51);let R=(()=>{var t;class r{}return(t=r).\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[u.ez,f.u5,f.UX,s.Pc,F,N.RegistroEventoFormPageModule,Y.$,L.DashboardPageModule,Q.WhatsappPageModule]}),r})()}}]);