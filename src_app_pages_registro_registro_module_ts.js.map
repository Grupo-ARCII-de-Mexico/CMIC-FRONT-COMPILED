{"version":3,"file":"src_app_pages_registro_registro_module_ts.js","mappings":"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","sources":["./src/app/pages/registro/registro-routing.module.ts","./src/app/pages/registro/registro.module.ts","./src/app/pages/registro/registro.page.ts","./src/app/pages/registro/registro.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RegistroPage } from './registro.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegistroPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RegistroPageRoutingModule {}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RegistroPageRoutingModule } from './registro-routing.module';\r\n\r\nimport { RegistroPage } from './registro.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    RegistroPageRoutingModule\r\n  ],\r\n  declarations: [RegistroPage]\r\n})\r\nexport class RegistroPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NavController } from '@ionic/angular';\r\nimport { catchError, takeUntil, tap } from 'rxjs/operators';\r\nimport { Auth } from 'src/app/shared/repos/auth.repository';\r\nimport { ErrorService } from 'src/app/shared/services/error.service';\r\nimport { GenericService } from 'src/app/shared/services/generic-service';\r\nimport { LoadingService } from 'src/app/shared/tools/loading.service';\r\nimport { ToastService } from 'src/app/shared/tools/toast.service';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-registro',\r\n  templateUrl: './registro.page.html',\r\n  styleUrls: ['./registro.page.scss'],\r\n})\r\nexport class RegistroPage implements OnInit {\r\n\r\n  registerForm!:FormGroup;\r\n\r\n  constructor(\r\n    private fb:FormBuilder,\r\n    private loading:LoadingService,\r\n    private toast:ToastService,\r\n    private genericService:GenericService,\r\n    private errorService:ErrorService,\r\n    private navController:NavController\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.registerForm = this.fb.group({\r\n      names:[null,Validators.required],\r\n      email:[null,Validators.required],\r\n      password:[null,Validators.required]\r\n    });\r\n    this.loading.setData({\r\n      animated:true,\r\n      backdropDismiss:false,\r\n      message:'Iniciando Sesión',\r\n      spinner:'crescent'\r\n    });\r\n  }\r\n\r\n  async register(){\r\n    await this.loading.create();\r\n    await this.loading.show();\r\n    this.genericService.post<{user:Auth,jwt:string}>('user',this.registerForm.value).pipe(\r\n      catchError(async (error) => {\r\n        await this.errorService.catchError(error)\r\n        return {user:{names:''},jwt:'undefined'}; \r\n      }),\r\n      takeUntil(this.errorService.next),\r\n      tap(async ({user,jwt}) => {\r\n        this.toast.setData({\r\n          message:'Bienvenido: ' + user.names,\r\n          duration:3000,\r\n          color:'success'\r\n        });\r\n        await this.loading.show();\r\n        localStorage.setItem(environment.jwt,jwt);\r\n        this.navController.navigateForward(\"/dashboard\",{animated:true});\r\n      }) \r\n    ).subscribe();\r\n\r\n  }\r\n\r\n}\r\n","\r\n<ion-content [fullscreen]=\"true\">\r\n  <div class=\"h-100 d-flex fondo\">\r\n    <ion-card class=\"m-auto\" mode=\"ios\">\r\n      <ion-card-header class=\"d-flex\">\r\n        <ion-img src=\"https://neixtmedia.com/assets/img/Logotipo.png\" class=\"img-fluid mx-auto\"></ion-img>\r\n      </ion-card-header>\r\n      <ion-card-content>\r\n        <form [formGroup]=\"registerForm\" (ngSubmit)=\"register()\">\r\n          <ion-item>\r\n            <ion-input label=\"Nombre\" labelPlacement=\"floating\" required formControlName=\"names\" type=\"text\"></ion-input>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input label=\"Correo\" labelPlacement=\"floating\" required formControlName=\"email\" type=\"text\"></ion-input>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-input label=\"Contraseña\" labelPlacement=\"floating\"  required formControlName=\"password\" type=\"text\"></ion-input>\r\n          </ion-item>\r\n          <div class=\"d-flex my-3\">\r\n            <ion-button class=\"mx-auto\" block color=\"primary\" shape=\"round\" type=\"submit\" [disabled]=\"registerForm.invalid\">\r\n              Registrarse \r\n            </ion-button>\r\n          </div>\r\n        </form>\r\n      </ion-card-content>\r\n    </ion-card>\r\n  </div>\r\n  </ion-content>\r\n  "],"names":["RouterModule","RegistroPage","routes","path","component","RegistroPageRoutingModule","forChild","imports","i1","exports","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","RegistroPageModule","declarations","Validators","catchError","takeUntil","tap","environment","constructor","fb","loading","toast","genericService","errorService","navController","ngOnInit","registerForm","group","names","required","email","password","setData","animated","backdropDismiss","message","spinner","register","_this","_asyncToGenerator","create","show","post","value","pipe","_ref","error","user","jwt","_x","apply","arguments","next","_ref2","duration","color","localStorage","setItem","navigateForward","_x2","subscribe","i0","ɵɵdirectiveInject","FormBuilder","i2","LoadingService","i3","ToastService","i4","GenericService","i5","ErrorService","i6","NavController","selectors","decls","vars","consts","template","RegistroPage_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵlistener","RegistroPage_Template_form_ngSubmit_6_listener","ɵɵtext","ɵɵproperty","ɵɵadvance","invalid"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}