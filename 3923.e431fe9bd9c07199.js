"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3923],{3923:(T,g,n)=>{n.r(g),n.d(g,{CrearApoyoPageModule:()=>b});var y=n(6814),a=n(95),i=n(9843),f=n(9085),m=n(5861),u=n(8915),e=n(6689),v=n(930),h=n(2264),A=n(7153),C=n(2425);const Z=[{path:"",component:(()=>{var r;class l{constructor(o,t,s,p,c){this.gService=o,this.compress=t,this.fb=s,this.load=p,this.toast=c,this.toolbar=[[{heading:["h1","h2","h3","h4","h5","h6"]}],["bold","italic"],["underline","strike"],["ordered_list","bullet_list"],["align_left","align_center","align_right","align_justify"],["horizontal_rule","format_clear"],["text_color","background_color"]]}ngOnInit(){this.form=this.fb.group({titulo:[null,u.kI.required],descripcion:[null,u.kI.required]}),this.editor=new u.ML}getImage(){var o=this;return(0,m.Z)(function*(){o.imagen=yield o.compress.returnImageCompress()})()}save(){var o=this;return(0,m.Z)(function*(){let t;yield o.load.setData({animated:!0,spinner:"dots",translucent:!0,message:"Creando Apoyo..."}),yield o.load.create(),yield o.load.show(),t="string"!=typeof o.form.controls.descripcion.value?(0,u.io)(o.form.controls.descripcion.value):o.form.controls.descripcion.value,o.form.controls.descripcion.setValue(t);const s=new FormData;for(const c in o.form.value)o.form.value.hasOwnProperty(c)&&"costos"!==c&&s.append(c,o.form.value[c]);o.imagen&&s.append("imagen",o.compress.dataURItoBlob(o.imagen));const p=o.form.controls.titulo.value.replace(/ /g,"-");s.append("identificador",p.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()),o.gService.postWhitImage("desastres",s).subscribe(function(){var c=(0,m.Z)(function*(J){o.imagen=null,o.form.reset({}),yield o.load.hide(),o.toast.success("Apoyo Guardado")});return function(J){return c.apply(this,arguments)}}())})()}}return(r=l).\u0275fac=function(o){return new(o||r)(e.Y36(v.M),e.Y36(h.Y),e.Y36(a.qu),e.Y36(A.b),e.Y36(C._W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-crear-apoyo"]],decls:22,vars:8,consts:[[3,"fullscreen"],[1,"mt-5","px-4"],[1,"container"],[1,"my-3"],[3,"formGroup","ngSubmit"],["lines","none",1,"ion-margin-vertical"],["label","Titulo","labelPlacement","floating","required","","formControlName","titulo","type","text"],["button","","lines","none",1,"ion-margin-vertical",3,"click"],["slot","start","color","primary"],["slot","end",2,"max-width","300px",3,"src"],[1,"NgxEditor__Wrapper"],[3,"toolbar","editor"],["formControlName","descripcion",3,"editor","placeholder"],["expand","block","shape","round","color","primary","type","submit",1,"my-3",3,"disabled"]],template:function(o,t){1&o&&(e.TgZ(0,"ion-content",0),e._UZ(1,"br")(2,"br"),e.TgZ(3,"div",1)(4,"div",2)(5,"h1",3)(6,"b"),e._uU(7," Crear Apoyo"),e.qZA()()()(),e.TgZ(8,"div",2)(9,"form",4),e.NdJ("ngSubmit",function(){return t.save()}),e.TgZ(10,"ion-item",5),e._UZ(11,"ion-input",6),e.qZA(),e.TgZ(12,"ion-item",7),e.NdJ("click",function(){return t.getImage()}),e.TgZ(13,"ion-text",8)(14,"h5"),e._uU(15,"Subir Imagen"),e.qZA()(),e._UZ(16,"ion-img",9),e.qZA(),e.TgZ(17,"div",10),e._UZ(18,"ngx-editor-menu",11)(19,"ngx-editor",12),e.qZA(),e.TgZ(20,"ion-button",13),e._uU(21," Crear "),e.qZA()()()()),2&o&&(e.Q6J("fullscreen",!0),e.xp6(9),e.Q6J("formGroup",t.form),e.xp6(7),e.Q6J("src",t.imagen),e.xp6(2),e.Q6J("toolbar",t.toolbar)("editor",t.editor),e.xp6(1),e.Q6J("editor",t.editor)("placeholder","Descripci\xf3n del evento"),e.xp6(1),e.Q6J("disabled",t.form.invalid))},dependencies:[a._Y,a.JJ,a.JL,a.Q7,a.sg,a.u,i.YG,i.W2,i.Xz,i.pK,i.Ie,i.yW,i.j9,u.tP,u.Mn]}),l})()}];let P=(()=>{var r;class l{}return(r=l).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[f.Bz.forChild(Z),f.Bz]}),l})(),b=(()=>{var r;class l{}return(r=l).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[y.ez,a.u5,a.UX,i.Pc,P,u.FP]}),l})()}}]);