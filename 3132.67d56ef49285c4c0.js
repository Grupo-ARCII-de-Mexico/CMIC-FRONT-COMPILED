"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3132],{3132:(M,p,n)=>{n.r(p),n.d(p,{ApoyosDnPageModule:()=>D});var v=n(6814),r=n(95),a=n(9843),m=n(9085),c=n(5861),g=n(6676),x=n(553),o=n(6689),y=n(930),h=n(2425),Z=n(7153),A=n(9659);function b(t,l){if(1&t){const i=o.EpF();o.TgZ(0,"form",25),o.NdJ("ngSubmit",function(){o.CHM(i);const s=o.oxw(2);return o.KtG(s.save())}),o.TgZ(1,"ion-item"),o._UZ(2,"ion-input",26),o.qZA(),o.TgZ(3,"ion-item")(4,"ion-input",27)(5,"div",28),o._uU(6,"Nombre Completo "),o.TgZ(7,"ion-text",29),o._uU(8,"*"),o.qZA()()()(),o.TgZ(9,"ion-item")(10,"ion-input",30)(11,"div",28),o._uU(12,"RFC "),o.TgZ(13,"ion-text",29),o._uU(14,"*"),o.qZA()()()(),o.TgZ(15,"ion-item")(16,"ion-input",31)(17,"div",28),o._uU(18,"Tel\xe9fono "),o.TgZ(19,"ion-text",29),o._uU(20,"*"),o.qZA()()()(),o.TgZ(21,"ion-item")(22,"ion-input",32)(23,"div",28),o._uU(24,"Correo "),o.TgZ(25,"ion-text",29),o._uU(26,"*"),o.qZA()()()(),o.TgZ(27,"ion-item"),o._UZ(28,"ion-input",33),o.qZA(),o.TgZ(29,"ion-item")(30,"ion-input",34)(31,"div",28),o._uU(32,"Cargo en la empresa "),o._UZ(33,"ion-text",29),o.qZA()()(),o.TgZ(34,"ion-item")(35,"ion-input",35)(36,"div",28),o._uU(37,"Delegaci\xf3n "),o._UZ(38,"ion-text",29),o.qZA()()(),o.TgZ(39,"ion-button",36),o._uU(40," Registrarse "),o.qZA()()}if(2&t){const i=o.oxw(2);o.Q6J("formGroup",i.usuarioForm),o.xp6(39),o.Q6J("disabled",i.usuarioForm.invalid)}}function P(t,l){if(1&t&&(o.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"ion-card",12)(4,"ion-card-content",13),o._UZ(5,"ion-img",14),o.qZA()()()(),o.TgZ(6,"div",15)(7,"div",16)(8,"ion-card",17)(9,"ion-accordion-group",18)(10,"ion-accordion",19)(11,"ion-item",20)(12,"ion-card-title",21)(13,"b",22),o._uU(14,"Registro"),o.qZA()()(),o.TgZ(15,"div",23),o.YNc(16,b,41,2,"form",24),o.qZA()()()()()()()),2&t){const i=o.oxw();o.xp6(5),o.Q6J("src",i.uri+i.evento.imagen),o.xp6(11),o.Q6J("ngIf",i.usuarioForm)}}g.locale("es");const T=[{path:"",component:(()=>{var t;class l{constructor(e,s,u,f,d){this.route=e,this.genericS=s,this.toast=u,this.loading=f,this.fb=d,this.uri=x.N.image+"apoyos-dn/",this.iframe=!1}ngOnInit(){var e=this;this.route.params.subscribe(s=>{this.genericS.getOne("desastres",s.identificador).subscribe(function(){var f=(0,c.Z)(function*(d){e.evento=d,console.log(e.evento)});return function(d){return f.apply(this,arguments)}}())}),this.usuarioForm=this.fb.group({nombre:[null,r.kI.required],telefono:[null,r.kI.required],email:[null,[r.kI.required,r.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],rfc:[],cargo:[],delegacion:[],organizacion:[],empresa:[],numAfiliado:[]})}mon(e){return g(new Date(e)).format("LL")+" a las "+g(new Date(e)).utc().format("LTS")}save(){var e=this;return(0,c.Z)(function*(){yield e.loading.setData({animated:!0,spinner:"dots",translucent:!0,message:"Preparando Registro..."}),yield e.loading.create(),yield e.loading.show(),e.genericS.post("apoyos-dn",{...e.usuarioForm.value,desastre:e.evento.id}).subscribe(function(){var s=(0,c.Z)(function*(u){yield e.loading.hide(),e.toast.success("Gracias Por Unirte"),e.usuarioForm.reset()});return function(u){return s.apply(this,arguments)}}(),function(){var s=(0,c.Z)(function*(u){e.toast.error("Sucedi\xf3 un Error intente m\xe1s tarde"),yield e.loading.hide()});return function(u){return s.apply(this,arguments)}}())})()}}return(t=l).\u0275fac=function(e){return new(e||t)(o.Y36(m.gz),o.Y36(y.M),o.Y36(h._W),o.Y36(Z.b),o.Y36(r.qu))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-apoyos-dn"]],decls:11,vars:2,consts:[[2,"background-color","#d8d8d8",3,"fullscreen"],[1,"titulo","row",2,"z-index","0"],[1,"my-5"],[1,"h",2,"z-index","1"],["class","bg-white row",4,"ngIf"],[1,"titulo2",2,"z-index","-1"],[1,"d-flex","-3"],[1,"ms-auto","my-auto","text-white"],["src","../../../assets/9ANOS_ARCII_blanco.png",1,"me-auto","ms-3",2,"width","70px"],[1,"bg-white","row"],[1,"d-flex","container","col-md-7"],[1,"container","d-flex","mt-4","mt-md-0"],["mode","ios",1,"shadow","mt-5","mb-auto","mx-auto"],[1,"izquierda","d-flex","h-100"],[1,"m-auto","img-fluid",3,"src"],[1,"col-md-4","d-flex","container"],[1,"container","mt-3"],[1,"shadow","mx-auto","w-100"],["value","first",2,"z-index","1"],["value","first"],["slot","header","color","secondary"],[1,"text-white"],[2,"font-size","20px"],["slot","content",1,"ion-padding"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["labelPlacement","floating","label","No.Afiliado","formControlName","numAfiliado","type","text"],["labelPlacement","floating","formControlName","nombre","type","text"],["slot","label"],["color","danger"],["labelPlacement","floating","formControlName","rfc","type","text"],["labelPlacement","floating","formControlName","telefono","type","text"],["labelPlacement","floating","formControlName","email","type","email"],["label","Ingrese el nombre de su empresa","labelPlacement","floating","formControlName","empresa","type","text"],["labelPlacement","floating","formControlName","cargo","type","text"],["labelPlacement","floating","formControlName","delegacion","type","text"],["expand","block","slot","end","shape","round","type","submit",1,"mt-3",3,"disabled"]],template:function(e,s){1&e&&(o._UZ(0,"header"),o.TgZ(1,"ion-content",0)(2,"div",1),o._UZ(3,"div",2),o.qZA(),o.TgZ(4,"div",3),o.YNc(5,P,17,2,"div",4),o.qZA(),o.TgZ(6,"div",5)(7,"div",6)(8,"h2",7),o._uU(9,"Impulsado solidariamente por: "),o.qZA(),o._UZ(10,"ion-img",8),o.qZA()()()),2&e&&(o.xp6(1),o.Q6J("fullscreen",!0),o.xp6(4),o.Q6J("ngIf",s.evento))},dependencies:[v.O5,r._Y,r.JJ,r.JL,r.sg,r.u,a.We,a.eh,a.YG,a.PM,a.FN,a.Dq,a.W2,a.Xz,a.pK,a.Ie,a.yW,a.j9,A.E],styles:["ion-content[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}h5[_ngcontent-%COMP%]{font-size:20px}h4[_ngcontent-%COMP%]{font-size:20px!important}.inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px!important}.titulo[_ngcontent-%COMP%], .titulo2[_ngcontent-%COMP%]{background:rgb(0,0,0);background:linear-gradient(129deg,rgb(0,0,0) 22%,rgb(73,73,73) 63%)}.izquierda[_ngcontent-%COMP%]{background-position:center;background-repeat:cover;-webkit-backdrop-filter:grayscale(30%);backdrop-filter:grayscale(30%)}.h[_ngcontent-%COMP%]{height:80%}"]}),l})()}];let C=(()=>{var t;class l{}return(t=l).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[m.Bz.forChild(T),m.Bz]}),l})();var U=n(3964);let D=(()=>{var t;class l{}return(t=l).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[v.ez,r.u5,r.UX,a.Pc,C,U.HeaderPageModule]}),l})()}}]);