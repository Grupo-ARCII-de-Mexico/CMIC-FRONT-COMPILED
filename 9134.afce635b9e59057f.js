"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9134],{9200:(N,A,i)=>{i.r(A),i.d(A,{RegistrarUsuarioPageModule:()=>O});var Z=i(6814),l=i(95),s=i(7027),b=i(9085),x=i(5861),C=i(9026),y=i(9397),U=i(4028),e=i(6689),P=i(930),p=i(8013),m=i(7153),u=i(2425),f=i(2264);function g(o,r){if(1&o&&(e.TgZ(0,"ion-select-option",24),e._uU(1),e.qZA()),2&o){const n=r.$implicit;e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.titulo)}}function R(o,r){if(1&o&&(e.TgZ(0,"ion-select-option",24),e._uU(1),e.qZA()),2&o){const n=r.$implicit;e.Q6J("value",r.index),e.xp6(1),e.Oqu(n)}}function v(o,r){if(1&o&&(e.TgZ(0,"ion-select-option",24),e._uU(1),e.qZA()),2&o){const n=r.$implicit;e.Q6J("value",null==n?null:n.id),e.xp6(1),e.Oqu(null==n?null:n.ciudad)}}function h(o,r){if(1&o&&(e.TgZ(0,"ion-select-option",24),e._uU(1),e.qZA()),2&o){const n=r.$implicit;e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.nombre)}}function F(o,r){if(1&o&&(e.TgZ(0,"ion-select-option",25),e._uU(1),e.qZA()),2&o){const n=e.oxw(2);e.Q6J("value",null==n.extranjero?null:n.extranjero.id),e.xp6(1),e.Oqu(null==n.extranjero?null:n.extranjero.nombre)}}function S(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"form",4),e.NdJ("ngSubmit",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.update())}),e.TgZ(1,"ion-item")(2,"ion-select",5),e.YNc(3,g,2,2,"ion-select-option",6),e.qZA()(),e.TgZ(4,"ion-item")(5,"ion-select",7),e.YNc(6,R,2,2,"ion-select-option",6),e.qZA()(),e.TgZ(7,"ion-item"),e._UZ(8,"ion-input",8),e.qZA(),e.TgZ(9,"ion-item")(10,"ion-input",9)(11,"div",10),e._uU(12,"Nombre Completo "),e.TgZ(13,"ion-text",11),e._uU(14,"*"),e.qZA()()()(),e.TgZ(15,"ion-item")(16,"ion-input",12)(17,"div",10),e._uU(18,"Tel\xe9fono "),e.TgZ(19,"ion-text",11),e._uU(20,"*"),e.qZA()()()(),e.TgZ(21,"ion-item")(22,"ion-input",13)(23,"div",10),e._uU(24,"Correo "),e.TgZ(25,"ion-text",11),e._uU(26,"*"),e.qZA()()()(),e.TgZ(27,"ion-item"),e._UZ(28,"ion-input",14),e.qZA(),e.TgZ(29,"ion-item")(30,"ion-input",15)(31,"div",10),e._uU(32,"Cargo en la empresa "),e._UZ(33,"ion-text",11),e.qZA()()(),e.TgZ(34,"ion-item")(35,"ion-select",16),e.YNc(36,v,2,2,"ion-select-option",6),e.qZA()(),e.TgZ(37,"ion-item"),e._UZ(38,"ion-input",17),e.qZA(),e.TgZ(39,"ion-item")(40,"ion-select",18)(41,"div",10),e._uU(42,"Estado de Origen "),e.qZA(),e.YNc(43,h,2,2,"ion-select-option",6),e.YNc(44,F,2,2,"ion-select-option",19),e.qZA()(),e.TgZ(45,"ion-item"),e._UZ(46,"ion-input",20),e.qZA(),e.TgZ(47,"ion-item"),e._UZ(48,"ion-input",21),e.qZA(),e.TgZ(49,"ion-item")(50,"ion-text"),e._uU(51,"Suba su credencial estudiantil o documento que lo avale "),e._UZ(52,"br"),e.qZA(),e.TgZ(53,"ion-button",22),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.upload())}),e._uU(54," Subir Credencial "),e.qZA()(),e.TgZ(55,"ion-button",23),e._uU(56," Actualizar "),e.qZA()()}if(2&o){const n=e.oxw();e.Q6J("formGroup",n.usuarioForm),e.xp6(3),e.Q6J("ngForOf",n.evento),e.xp6(3),e.Q6J("ngForOf",n.tipoPublicoArray),e.xp6(29),e.Q6J("cancelText","Cerrar"),e.xp6(1),e.Q6J("ngForOf",n.delegaciones),e.xp6(4),e.Q6J("cancelText","Cerrar"),e.xp6(3),e.Q6J("ngForOf",n.estados),e.xp6(1),e.Q6J("ngIf",n.extranjero)}}const J=[{path:"",component:(()=>{var o;class r{constructor(t,a,c,d,T,Q,Y){this.fb=t,this.genericService=a,this.eventos=c,this.load=d,this.toast=T,this.modalC=Q,this.compressService=Y,this.evento=[],this.delegaciones=[],this.estados=[],this.tipoPublico=U.L,this.tipoPublicoArray=U.x,this.boleto={costo:0,privilegio:"Sesi\xf3n Foro + Comida",quieroFactura:!1,plataformaPago:1}}ngOnInit(){this.eventos.evento$.subscribe(t=>{this.evento=t}),(0,C.$)(this.genericService.getAll("delegacion"),this.genericService.getAll("estados")).pipe((0,y.b)(t=>{this.delegaciones=t[0].sort(function(a,c){return a.ciudad.localeCompare(c.ciudad)}),this.extranjero=t[1].find(a=>33==a.id),this.estados=t[1].filter(a=>33!==a.id).sort(function(a,c){return a.nombre.localeCompare(c.nombre)})})).subscribe(),this.usuarioForm=this.fb.group({nombre:[null,l.kI.required],telefono:[null,l.kI.required],email:[null,[l.kI.required,l.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],rfc:[],cargo:[],delegacion:[],curp:[],evidencia:[],organizacion:[],empresa:[],numAfiliado:[],estado:[],tipo:[U.L.AFILIADOS],evento:[]})}update(){var t=this;return(0,x.Z)(function*(){if(t.load.setData({message:"Creando Usuario",animated:!0,spinner:"dots"}),yield t.load.create(),yield t.load.show(),t.usuarioForm.controls.delegacion.value){var a,c;const d=null!==(a=t.delegaciones.find(T=>T.id===t.usuarioForm.controls.delegacion.value))&&void 0!==a?a:null;t.usuarioForm.controls.delegacion.setValue(null!==(c=null==d?void 0:d.ciudad)&&void 0!==c?c:null)}t.genericService.post("participante",{...t.usuarioForm.value}).subscribe(function(){var d=(0,x.Z)(function*(T){yield t.modalC.dismiss(),yield t.load.hide(),t.toast.success("Usuario Actualizado")});return function(T){return d.apply(this,arguments)}}())})()}upload(){var t=this;return(0,x.Z)(function*(){t.evidencia=yield t.compressService.returnImageCompress()})()}}return(o=r).\u0275fac=function(t){return new(t||o)(e.Y36(l.qu),e.Y36(P.M),e.Y36(p.hJ),e.Y36(m.b),e.Y36(u._W),e.Y36(s.IN),e.Y36(f.Y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-registrar-usuario"]],decls:9,vars:2,consts:[[3,"fullscreen"],[1,"mt-5","px-4"],[1,"container","px-4"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["label","Eventos","formControlName","evento","placeholder","Seleccione el evento"],[3,"value",4,"ngFor","ngForOf"],["label","Tipo de Participante","formControlName","tipo","placeholder","Seleccione"],["labelPlacement","floating","label","No.Afiliado","formControlName","numAfiliado","type","text"],["labelPlacement","floating","formControlName","nombre","type","text"],["slot","label"],["color","danger"],["labelPlacement","floating","formControlName","telefono","type","text"],["labelPlacement","floating","formControlName","email","type","email"],["label","Ingrese el nombre de su empresa","labelPlacement","floating","formControlName","empresa","type","text"],["labelPlacement","floating","formControlName","cargo","type","text"],["label","Delegaci\xf3n CMIC","formControlName","delegacion","okText","Seleccionar","placeholder","Seleccione",3,"cancelText"],["label","Ingrese el nombre de su organizaci\xf3n","labelPlacement","floating","formControlName","organizacion","type","text"],["formControlName","estado","okText","Seleccionar","placeholder","Seleccione",3,"cancelText"],["class","border-top",3,"value",4,"ngIf"],["label","RFC","labelPlacement","floating","formControlName","rfc","type","text"],["label","CURP","labelPlacement","floating","formControlName","curp","type","text"],["expand","block","shape","round",3,"click"],["expand","block","slot","end","shape","round","type","submit",1,"mt-3"],[3,"value"],[1,"border-top",3,"value"]],template:function(t,a){1&t&&(e.TgZ(0,"ion-content",0),e._UZ(1,"br")(2,"br")(3,"div",1),e.TgZ(4,"div",2)(5,"h1")(6,"b"),e._uU(7,"Registrar Usuarios"),e.qZA()(),e.YNc(8,S,57,8,"form",3),e.qZA()()),2&t&&(e.Q6J("fullscreen",!0),e.xp6(8),e.Q6J("ngIf",a.usuarioForm))},dependencies:[Z.sg,Z.O5,l._Y,l.JJ,l.JL,l.sg,l.u,s.YG,s.W2,s.pK,s.Ie,s.t9,s.n0,s.yW,s.QI,s.j9]}),r})()}];let I=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[b.Bz.forChild(J),b.Bz]}),r})(),O=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Z.ez,l.u5,l.UX,s.Pc,I]}),r})()},9026:(N,A,i)=>{i.d(A,{$:()=>U});var Z=i(5592),l=i(4829);const{isArray:s}=Array;var x=i(6232),C=i(8251),y=i(4564);function U(...e){const P=(0,y.jO)(e),p=function b(e){return 1===e.length&&s(e[0])?e[0]:e}(e);return p.length?new Z.y(m=>{let u=p.map(()=>[]),f=p.map(()=>!1);m.add(()=>{u=f=null});for(let g=0;!m.closed&&g<p.length;g++)(0,l.Xf)(p[g]).subscribe((0,C.x)(m,R=>{if(u[g].push(R),u.every(v=>v.length)){const v=u.map(h=>h.shift());m.next(P?P(...v):v),u.some((h,F)=>!h.length&&f[F])&&m.complete()}},()=>{f[g]=!0,!u[g].length&&m.complete()}));return()=>{u=f=null}}):x.E}}}]);