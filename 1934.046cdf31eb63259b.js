"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1934],{1934:(z,M,c)=>{c.r(M),c.d(M,{VerNegociosPageModule:()=>w});var O=c(6814),J=c(95),d=c(9843),v=c(9085),p=c(5861),F=c(9397),U=c(553),m=c(1486),o=c(6689),S=c(930),R=c(5368),Y=c(2425),k=c(4433);function B(t,a){if(1&t){const l=o.EpF();o.TgZ(0,"tr")(1,"th",12),o._UZ(2,"ion-img",13),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td")(6,"ion-buttons",14)(7,"ion-button",15),o.NdJ("click",function(){const n=o.CHM(l).$implicit,s=o.oxw();return o.KtG(s.vistaPrevia(n.id))}),o._UZ(8,"ion-icon",16),o.qZA(),o.TgZ(9,"ion-button",15),o.NdJ("click",function(){const n=o.CHM(l).$implicit,s=o.oxw();return o.KtG(s.exportToExcel(n.empresa,n.oportunidadNegocio))}),o._UZ(10,"ion-icon",17),o.qZA(),o.TgZ(11,"ion-button",18),o._UZ(12,"ion-icon",19),o.qZA(),o.TgZ(13,"ion-button",15),o.NdJ("click",function(){const n=o.CHM(l).$implicit,s=o.oxw();return o.KtG(s.delete(n.id))}),o._UZ(14,"ion-icon",20),o.qZA()()()()}if(2&t){const l=a.$implicit,e=o.oxw();o.xp6(2),o.Q6J("src",e.uri+l.logotipo),o.xp6(2),o.Oqu(null==l?null:l.empresa),o.xp6(7),o.s9C("routerLink",l.identificador)}}const G=[{path:"",component:(()=>{var t;class a{constructor(e,i,n,s){this.gService=e,this.negocioRepo=i,this.toast=n,this.alerts=s,this.negocios=[],this.uri=U.N.image+"oportunidades-logotipos/"}ngOnInit(){this.gService.getAll("negocio").subscribe(e=>{this.negocioRepo.setNegocio(e)}),this.negocioRepo.negocio$.pipe((0,F.b)(e=>this.negocios=e)).subscribe()}vistaPrevia(e){var i=this;return(0,p.Z)(function*(){const n=i.negocios.find(s=>s.id===e);n&&window.open(U.N.host+"oportunidad-negocio/"+n.identificador,"_blank")})()}delete(e){var i=this;return(0,p.Z)(function*(){var n;i.alerts.setData({animated:!0,header:"Eliminar ON",message:"\xbfDesea Eliminar esta ON?",buttons:[{text:"Cancelar"},{text:"Eliminar",handler:(n=(0,p.Z)(function*(){i.gService.delete("negocio",e).subscribe(function(){var s=(0,p.Z)(function*(u){i.negocios=i.negocios.filter(g=>g.id!==e),i.toast.success("ON eliminada","Eliminado")});return function(u){return s.apply(this,arguments)}}())}),function(){return n.apply(this,arguments)})}]}),yield i.alerts.create(),yield i.alerts.show()})()}exportToExcel(e,i){let n=[];for(let r of i){var s,u,g,f,h,x,Z,N,C,y,P,T,b,A,V;n.push({Empresa:null!==(s=r.empresa)&&void 0!==s?s:"","No. Afiliado":null!==(u=r.afiliado)&&void 0!==u?u:"",Calle:null!==(g=r.calle)&&void 0!==g?g:"",Colonia:null!==(f=r.colonia)&&void 0!==f?f:"","Alcald\xeda / Municipio":null!==(h=r.municipio)&&void 0!==h?h:"",Estado:null!==(x=r.estado)&&void 0!==x?x:"","C\xf3digo Postal":null!==(Z=r.cp)&&void 0!==Z?Z:"",Denominaci\u00f3n:null!==(N=r.denominacion)&&void 0!==N?N:"","Sitio Web":null!==(C=r.web)&&void 0!==C?C:"","Nombre de Contacto":null!==(y=r.contacto.nombre)&&void 0!==y?y:"","Apellido Paterno Contacto":null!==(P=r.contacto.paterno)&&void 0!==P?P:"","Apellido Materno de Contacto":null!==(T=r.contacto.materno)&&void 0!==T?T:"","Telefono1 de Contacto":null!==(b=r.contacto.telefono)&&void 0!==b?b:"","Telefono 2 de Contacto":null!==(A=r.contacto.telefonoOficina)&&void 0!==A?A:"","Correo de Contacto":null!==(V=r.contacto.email)&&void 0!==V?V:""})}if(n){const r=m.P6.json_to_sheet(n),E=m.P6.book_new();m.P6.book_append_sheet(E,r,"Sheet1"),m.NC(E,e+".xlsx")}}}return(t=a).\u0275fac=function(e){return new(e||t)(o.Y36(S.M),o.Y36(R.v),o.Y36(Y._W),o.Y36(k.c))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-ver-negocios"]],decls:24,vars:3,consts:[[3,"fullscreen"],[1,"mt-5","px-3"],[1,"container"],[1,"my-3"],[1,"d-flex","mt-5"],[1,"h4"],["placeholder","Buscar Oportunidad de Negocio","inputmode","text","type","text",1,"ms-auto","me-3","my-0","w-100",3,"debounce"],[1,"table","mt-0"],[1,"red"],["scope","col",1,"red","d-none","d-md-block"],["scope","col",1,"red"],[4,"ngFor","ngForOf"],["scope","row",1,"text-center","d-none","d-md-block"],[1,"img-fluid",3,"src"],["color","primary","slot","start"],["color","primary",3,"click"],["slot","icon-only","name","eye-outline"],["slot","icon-only","name","download-outline"],["color","primary",3,"routerLink"],["slot","icon-only","name","people-outline"],["slot","icon-only","name","trash-outline"]],template:function(e,i){1&e&&(o.TgZ(0,"ion-content",0),o._UZ(1,"br")(2,"br"),o.TgZ(3,"div",1)(4,"div",2)(5,"h1",3)(6,"b"),o._uU(7,"Oportunidades de Negocio"),o.qZA()(),o.TgZ(8,"div",4)(9,"h5",5)(10,"b"),o._uU(11,"Eventos Registrados"),o.qZA()(),o._UZ(12,"ion-searchbar",6),o.qZA(),o.TgZ(13,"table",7)(14,"thead",8)(15,"tr")(16,"th",9),o._uU(17,"Foto"),o.qZA(),o.TgZ(18,"th",10),o._uU(19,"Empresa"),o.qZA(),o.TgZ(20,"th",10),o._uU(21,"Opciones"),o.qZA()()(),o.TgZ(22,"tbody"),o.YNc(23,B,15,3,"tr",11),o.qZA()()()()()),2&e&&(o.Q6J("fullscreen",!0),o.xp6(12),o.Q6J("debounce",250),o.xp6(11),o.Q6J("ngForOf",i.negocios))},dependencies:[O.sg,d.YG,d.Sm,d.W2,d.gu,d.Xz,d.VI,d.j9,d.YI,v.rH],styles:[".img-fluid[_ngcontent-%COMP%]{max-width:200px}.red[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:#fff}"]}),a})()}];let j=(()=>{var t;class a{}return(t=a).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[v.Bz.forChild(G),v.Bz]}),a})(),w=(()=>{var t;class a{}return(t=a).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[O.ez,J.u5,d.Pc,j]}),a})()}}]);