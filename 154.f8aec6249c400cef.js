"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[154],{154:(A,g,r)=>{r.r(g),r.d(g,{CrearOportunidadPageModule:()=>J});var u=r(6814),c=r(95),l=r(7027),m=r(9085),p=r(5861),h=r(4664),_=r(9397),e=r(6689),C=r(7153),f=r(2425),Z=r(2264),O=r(930);function v(i,d){if(1&i&&e._UZ(0,"ion-img",13),2&i){const t=e.oxw();e.Q6J("src",t.logotipo)}}function T(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"ion-button",14),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.eliminarDocumentos(a))}),e._UZ(4,"ion-icon",15),e.qZA()()}if(2&i){const t=d.$implicit;e.xp6(2),e.Oqu(t)}}function b(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"ion-button",14),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.eliminar(a))}),e._UZ(4,"ion-icon",15),e.qZA()()}if(2&i){const t=d.$implicit;e.xp6(2),e.Oqu(t)}}const P=[{path:"",component:(()=>{var i;class d{constructor(n,o,a,s){this.loading=n,this.toast=o,this.compressImage=a,this.genericService=s,this.empresa="",this.documentos=[],this.especialidades=[],this.especialidad="",this.document=""}ngOnInit(){}uploadImage(){var n=this;return(0,p.Z)(function*(){n.logotipo=yield n.compressImage.returnImageCompress()})()}agregarEspecialidad(){this.especialidades.push(this.especialidad),this.especialidad=""}eliminar(n){this.especialidades.splice(n,1)}agregarDocumentos(){this.documentos.push(this.document),this.document=""}eliminarDocumentos(n){this.documentos.splice(n,1)}save(){var n=this;return(0,p.Z)(function*(){n.loading.setData({animated:!0,message:"Subiendo...",spinner:"dots"}),yield n.loading.create(),yield n.loading.show();const o=new FormData;o.append("logotipo",n.compressImage.dataURItoBlob(n.logotipo)),n.genericService.postWhitImage("negocio",o).pipe((0,h.w)(a=>n.genericService.update("negocio",a.id,{especialidades:n.especialidades,documentos:n.documentos,empresa:n.empresa})),(0,_.b)(function(){var a=(0,p.Z)(function*(s){n.empresa="",n.logotipo=null,n.especialidad="",n.especialidades=[],n.documentos=[],n.document="",yield n.loading.hide(),n.toast.success("Nueva Oportunidad de Negocio","Creada")});return function(s){return a.apply(this,arguments)}}())).subscribe()})()}}return(i=d).\u0275fac=function(n){return new(n||i)(e.Y36(C.b),e.Y36(f._W),e.Y36(Z.Y),e.Y36(O.M))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-crear-oportunidad"]],decls:33,vars:12,consts:[[3,"fullscreen"],[1,"mt-5","px-3"],[1,"container"],[1,"my-3"],["button","",3,"click"],["style","max-width: 200px; max-height: 330px;",3,"src",4,"ngIf"],["type","text","labelPlacement","floating","label","Nombre de la empresa",3,"ngModel","ngModelChange"],["type","text","labelPlacement","floating","label","Ingrese Nombre del Documento",3,"ngModel","ngModelChange"],["slot","end",3,"disabled","click"],["slot","icon-only","name","add"],[4,"ngFor","ngForOf","ngForAs"],["type","text","labelPlacement","floating","label","Ingrese Especialidad",3,"ngModel","ngModelChange"],["expand","block","shape","round",1,"my-3",3,"disabled","click"],[2,"max-width","200px","max-height","330px",3,"src"],["slot","end",3,"click"],["slot","icon-only","name","close"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-content",0),e._UZ(1,"br")(2,"br"),e.TgZ(3,"div",1)(4,"div",2)(5,"h1",3)(6,"b"),e._uU(7,"Crear Oportunidad de Negocio"),e.qZA()(),e.TgZ(8,"ion-item",4),e.NdJ("click",function(){return o.uploadImage()}),e.TgZ(9,"ion-label"),e._uU(10,"Subir Imagen"),e.qZA(),e.YNc(11,v,1,1,"ion-img",5),e.qZA(),e.TgZ(12,"ion-item")(13,"ion-input",6),e.NdJ("ngModelChange",function(s){return o.empresa=s}),e.qZA()(),e.TgZ(14,"h3",3)(15,"b"),e._uU(16,"Agregar Documentos"),e.qZA()(),e.TgZ(17,"ion-item")(18,"ion-input",7),e.NdJ("ngModelChange",function(s){return o.document=s}),e.qZA(),e.TgZ(19,"ion-button",8),e.NdJ("click",function(){return o.agregarDocumentos()}),e._UZ(20,"ion-icon",9),e.qZA()(),e.YNc(21,T,5,1,"ion-item",10),e.TgZ(22,"h3",3)(23,"b"),e._uU(24,"Agregar Especialidades"),e.qZA()(),e.TgZ(25,"ion-item")(26,"ion-input",11),e.NdJ("ngModelChange",function(s){return o.especialidad=s}),e.qZA(),e.TgZ(27,"ion-button",8),e.NdJ("click",function(){return o.agregarEspecialidad()}),e._UZ(28,"ion-icon",9),e.qZA()(),e.YNc(29,b,5,1,"ion-item",10),e.qZA()(),e.TgZ(30,"div",2)(31,"ion-button",12),e.NdJ("click",function(){return o.save()}),e._uU(32," Crear "),e.qZA()()()),2&n&&(e.Q6J("fullscreen",!0),e.xp6(11),e.Q6J("ngIf",o.logotipo),e.xp6(2),e.Q6J("ngModel",o.empresa),e.xp6(5),e.Q6J("ngModel",o.document),e.xp6(1),e.Q6J("disabled",!o.document||""===o.document),e.xp6(2),e.Q6J("ngForOf",o.documentos)("ngForAs",o.index),e.xp6(5),e.Q6J("ngModel",o.especialidad),e.xp6(1),e.Q6J("disabled",!o.especialidad||""===o.especialidad),e.xp6(2),e.Q6J("ngForOf",o.especialidades)("ngForAs",o.index),e.xp6(2),e.Q6J("disabled",!o.logotipo||""===o.empresa))},dependencies:[u.sg,u.O5,c.JJ,c.On,l.YG,l.W2,l.gu,l.Xz,l.pK,l.Ie,l.Q$,l.j9]}),d})()}];let M=(()=>{var i;class d{}return(i=d).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.Bz.forChild(P),m.Bz]}),d})(),J=(()=>{var i;class d{}return(i=d).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.ez,c.u5,c.UX,l.Pc,M]}),d})()}}]);