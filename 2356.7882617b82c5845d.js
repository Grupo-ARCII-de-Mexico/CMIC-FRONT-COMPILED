"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2356],{2356:(O,m,r)=>{r.r(m),r.d(m,{VerNegociosPageModule:()=>b});var p=r(6814),h=r(95),l=r(7027),f=r(9085),u=r(5861),v=r(553),o=r(6689),N=r(930),Z=r(1264),g=r(4998);const d=(0,Z.MT)({name:"negocio"},(0,g.h4)());let y=(()=>{var t;class s{constructor(){this.negocio$=d.pipe((0,g.WK)())}setNegocio(e){d.update((0,g.J6)(e))}addNegocio(e){d.update((0,g.dP)(e))}updateNegocio(e,n){d.update((0,g.jB)(e,n))}deleteNegocio(e){d.update((0,g._L)(e))}}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();var x=r(2425),P=r(4433);function T(t,s){if(1&t){const i=o.EpF();o.TgZ(0,"tr")(1,"th",12),o._UZ(2,"ion-img",13),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td")(6,"ion-buttons",14)(7,"ion-button",15),o.NdJ("click",function(){const c=o.CHM(i).$implicit,a=o.oxw();return o.KtG(a.vistaPrevia(c.id))}),o._UZ(8,"ion-icon",16),o.qZA(),o.TgZ(9,"ion-button",15),o.NdJ("click",function(){const c=o.CHM(i).$implicit,a=o.oxw();return o.KtG(a.delete(c.id))}),o._UZ(10,"ion-icon",17),o.qZA()()()()}if(2&t){const i=s.$implicit,e=o.oxw();o.xp6(2),o.Q6J("src",e.uri+i.logotipo),o.xp6(2),o.Oqu(null==i?null:i.empresa)}}const V=[{path:"",component:(()=>{var t;class s{constructor(e,n,c,a){this.gService=e,this.negocioRepo=n,this.toast=c,this.alerts=a,this.negocios=[],this.uri=v.N.image+"oportunidades-logotipos/"}ngOnInit(){this.gService.getAll("negocio").subscribe(e=>{this.negocios=e})}vistaPrevia(e){var n=this;return(0,u.Z)(function*(){const c=n.negocios.find(a=>a.id===e);c&&window.open(v.N.host+"oportunidad-negocio/"+c.identificador,"_blank")})()}delete(e){var n=this;return(0,u.Z)(function*(){var c;n.alerts.setData({animated:!0,header:"Eliminar ON",message:"\xbfDesea Eliminar esta ON?",buttons:[{text:"Cancelar"},{text:"Eliminar",handler:(c=(0,u.Z)(function*(){n.gService.delete("negocio",e).subscribe(function(){var a=(0,u.Z)(function*(M){n.negocios=n.negocios.filter(C=>C.id!==e),n.toast.success("ON eliminada","Eliminado")});return function(M){return a.apply(this,arguments)}}())}),function(){return c.apply(this,arguments)})}]}),yield n.alerts.create(),yield n.alerts.show()})()}}return(t=s).\u0275fac=function(e){return new(e||t)(o.Y36(N.M),o.Y36(y),o.Y36(x._W),o.Y36(P.c))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-ver-negocios"]],decls:24,vars:3,consts:[[3,"fullscreen"],[1,"mt-5","px-3"],[1,"container"],[1,"my-3"],[1,"d-flex","mt-5"],[1,"h4"],["placeholder","Buscar Oportunidad de Negocio","inputmode","text","type","text",1,"ms-auto","me-3","my-0","w-100",3,"debounce"],[1,"table","mt-0"],[1,"red"],["scope","col",1,"red","d-none","d-md-block"],["scope","col",1,"red"],[4,"ngFor","ngForOf"],["scope","row",1,"text-center","d-none","d-md-block"],[1,"img-fluid",3,"src"],["color","primary","slot","start"],["color","primary",3,"click"],["slot","icon-only","name","eye-outline"],["slot","icon-only","name","trash-outline"]],template:function(e,n){1&e&&(o.TgZ(0,"ion-content",0),o._UZ(1,"br")(2,"br"),o.TgZ(3,"div",1)(4,"div",2)(5,"h1",3)(6,"b"),o._uU(7,"Oportunidades de Negocio"),o.qZA()(),o.TgZ(8,"div",4)(9,"h5",5)(10,"b"),o._uU(11,"Eventos Registrados"),o.qZA()(),o._UZ(12,"ion-searchbar",6),o.qZA(),o.TgZ(13,"table",7)(14,"thead",8)(15,"tr")(16,"th",9),o._uU(17,"Foto"),o.qZA(),o.TgZ(18,"th",10),o._uU(19,"Empresa"),o.qZA(),o.TgZ(20,"th",10),o._uU(21,"Opciones"),o.qZA()()(),o.TgZ(22,"tbody"),o.YNc(23,T,11,2,"tr",11),o.qZA()()()()()),2&e&&(o.Q6J("fullscreen",!0),o.xp6(12),o.Q6J("debounce",250),o.xp6(11),o.Q6J("ngForOf",n.negocios))},dependencies:[p.sg,l.YG,l.Sm,l.W2,l.gu,l.Xz,l.VI,l.j9],styles:[".img-fluid[_ngcontent-%COMP%]{max-width:200px}.red[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:#fff}"]}),s})()}];let A=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[f.Bz.forChild(V),f.Bz]}),s})(),b=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[p.ez,h.u5,l.Pc,A]}),s})()}}]);